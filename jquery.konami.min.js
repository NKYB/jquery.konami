/*!
 * jQuery.Konami v1.0.2
 * # jquery.konami
 * A simple, lightweight jQuery plugin to easily add a konami code to a website
 * Licensed under the GPL v3 License
 * Build by http://ApplyContext.com
 */
(function(a,f,e,g){function d(b,c,d){this.keys=[];this.lastVal="";this.JQUERY_KONAMI_TEXT_BOX_TO_TRIGGER_KEYBOARD="jquery_konami_text_box_to_trigger_keyboard";this.options=a.extend({namespace:d,charCodes:[],tapDownInterval:2E3,successHandler:function(){}},c,{element:b,charCodesAsString:c.charCodes.toString()});a.proxy(this._init(),this)}d.prototype={_init:function(){this._initMobileTextBox();this._initMobileEvents();this._initKeyCapture()},_initMobileTextBox:function(){a(e).ready(a.proxy(function(){var b=
'<div  style="position:absolute;top:-30px;left:0px;width:0px;height:0px;"><input id="'+this.JQUERY_KONAMI_TEXT_BOX_TO_TRIGGER_KEYBOARD+'" type="text"></input></div>';a("body").prepend(b)},this))},_initMobileEvents:function(){var b,c=0;a(this.options.element).on({touchstart:function(){b=(new Date).getTime()}});a(this.options.element).on({touchend:a.proxy(function(){c=(new Date).getTime();c-b>this.options.tapDownInterval&&(a("#"+this.JQUERY_KONAMI_TEXT_BOX_TO_TRIGGER_KEYBOARD).click(function(){a(this).focus()}),
a("#"+this.JQUERY_KONAMI_TEXT_BOX_TO_TRIGGER_KEYBOARD).trigger("click"))},this)})},_initKeyCapture:function(){a(this.options.element).keypress(a.proxy(function(b){if(this._checkForSafeFocus()){var c=a("#"+this.JQUERY_KONAMI_TEXT_BOX_TO_TRIGGER_KEYBOARD).val();a("#"+this.JQUERY_KONAMI_TEXT_BOX_TO_TRIGGER_KEYBOARD).val(c+String.fromCharCode(b.charCode));this._evalKeyPress()}},this));a("#"+this.JQUERY_KONAMI_TEXT_BOX_TO_TRIGGER_KEYBOARD).on("keyup",a.proxy(function(a){this._evalKeyPress()},this))},_evalKeyPress:function(b){b=
a("#"+this.JQUERY_KONAMI_TEXT_BOX_TO_TRIGGER_KEYBOARD).val().toUpperCase();if(0<b.length&&b!=this.lastVal){this._clearKeys();for(var c=0;c<b.length;c++)this.keys.push(b.charCodeAt(c));this._compareKeysToKonamiCode()?(this.options.successHandler(),a("#"+this.JQUERY_KONAMI_TEXT_BOX_TO_TRIGGER_KEYBOARD).val(""),this.lastVal="",this._clearKeys()):this._truncateKeys()}this.lastVal=b},_compareKeysToKonamiCode:function(a){a=this.keys.toString();return 0<=a.indexOf(this.options.charCodesAsString)},_clearKeys:function(){this.keys=
[]},_truncateKeys:function(){this.keys.length>this.options.charCodes.length&&this.keys.shift()},_checkForSafeFocus:function(){return 0==a("input").is(":focus")&&0==a("textarea").is(":focus")||1==a("#"+this.JQUERY_KONAMI_TEXT_BOX_TO_TRIGGER_KEYBOARD).is(":focus")}};a.fn.konami=function(a){return new d(this,a,"konami")}})(jQuery,window,document);